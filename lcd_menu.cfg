#####################################################################
# Custom LCD Menu System
#####################################################################



### menu main ###
[menu __main]
type: list
name: Main

## Disable Octoprint menu option
[menu __main __octoprint]
type: disabled

## Disable SDCard menu option
[menu __main __sdcard]
type: disabled

[include ./prep_menu.cfg]                       ## Enables Prep menu

### menu print ###
[menu __main __print]
type: list
#enable: {printer.virtual_sdcard.is_active == True}
index: 1
name: Print

[menu __main __print __pause]
type: command
enable: {printer.idle_timeout.state == "Printing"}
name: Pause Print
gcode:
    PAUSE

[menu __main __print __resume]
type: command
enable: {printer.print_stats.state == "Paused"}
name: Resume Print
gcode:
    RESUME

[menu __main __print __cancel]
type: command
enable: {printer.idle_timeout.state == "Printing"}
name: Cancel Print
gcode:
    CANCEL_PRINT

### menu tune ###
[include ./tune_menu.cfg]                       ## Enables Lights menu

### menu control ###
[include ./control_menu.cfg]                    ## Enables Lights menu
[include ./klickyprobe_menu.cfg]                ## Enables KlickyProbe menu under Control Menu

### menu lights ###
[include ./lights_menu.cfg]                     ## Enables Lights menu

### menu filament ###
[include ./filament_menu.cfg]                   ## Enables Filament menu

### menu calibration ###
[include ./calibration_menu.cfg]                ## Enables Calibration menu

### menu setup ###
[menu __main __setup]
type: list
index: 7
enable: {not printer.idle_timeout.state == "Printing"}
name: Setup

[menu __main __setup __save_config]
type: command
name: Save config
gcode: SAVE_CONFIG

[menu __main __setup __restart]
type: list
name: Restart

[menu __main __setup __restart __host_restart]
type: command
enable: {not printer.idle_timeout.state == "Printing"}
name: Restart host
gcode: RESTART

[menu __main __setup __restart __firmware_restart]
type: command
enable: {not printer.idle_timeout.state == "Printing"}
name: Restart FW
gcode: FIRMWARE_RESTART

[menu __main __setup __tuning]
type: disabled

[menu __main __setup __calib]
type: disabled

[menu __main __setup __dump]
type: command
name: Dump parameters
gcode:
   {% for name1 in printer %}
      {% for name2 in printer[name1] %}
         { action_respond_info("printer['%s'].%s = %s"
                               % (name1, name2, printer[name1][name2])) }
      {% else %}
         { action_respond_info("printer['%s'] = %s" % (name1, printer[name1])) }
      {% endfor %}
   {% endfor %}

### menu network ###
[menu __main __network]
type: list
name: Network
enable: {('network_status' in printer)}

[menu __main __network _mdns]
type: command
name: mDNS: {printer.network_status.mdns}

[menu __main __network _ethip]
type: command
name: Eth IP: {printer.network_status.ethip}

[menu __main __network _wifissid]
type: command
name: Wifi SSID: {printer.network_status.wifissid}

[menu __main __network _wifiip]
type: command
name: Wifi IP: {printer.network_status.wifiip}